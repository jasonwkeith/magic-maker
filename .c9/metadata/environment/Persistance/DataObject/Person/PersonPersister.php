{"filter":false,"title":"PersonPersister.php","tooltip":"/Persistance/DataObject/Person/PersonPersister.php","undoManager":{"mark":37,"position":37,"stack":[[{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"remove","lines":["    "],"id":2},{"start":{"row":14,"column":0},"end":{"row":14,"column":23},"action":"insert","lines":["    use PersisterTrait;"]}],[{"start":{"row":14,"column":23},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":34,"column":0},"end":{"row":36,"column":54},"action":"remove","lines":["        $standard_objects = $this->loadStandardObjects();        ","        $this->throwInvalidGUIDException( isset( $standard_objects[ $guid ] ), $guid );","        $standard_object = $standard_objects[ $guid ];"],"id":6},{"start":{"row":34,"column":0},"end":{"row":34,"column":63},"action":"insert","lines":["        $standard_object =  $this->readStandardObject( $guid );"]}],[{"start":{"row":26,"column":0},"end":{"row":29,"column":65},"action":"remove","lines":["        $standard_objects = $this->loadStandardObjects();","        $standard_objects[ $data_object->getGUID() ] = $data_object;","","        $this->writer->write( json_encode( $standard_objects ) );"],"id":7},{"start":{"row":26,"column":0},"end":{"row":26,"column":47},"action":"insert","lines":["        $this->writeDataObject( $data_object );"]}],[{"start":{"row":50,"column":0},"end":{"row":72,"column":5},"action":"remove","lines":["    ","    public function remove( string $guid ): void","    {","        $standard_objects = $this->loadStandardObjects();    ","        $this->throwInvalidGUIDException( isset( $standard_objects[ $guid ] ), $guid );","        ","        unset( $standard_objects[ $guid ] );","        $this->writer->write( json_encode( $standard_objects ) );    ","    }","","    private function loadStandardObjects(): array","    {","        return (array) json_decode( $this->reader->read() );","    }","    ","    private function throwInvalidGUIDException( bool $exists, string $guid ) :void","    {","        if( ! $exists )","        {","            $message = \"Cannot locate saved data for GUID $guid.\";","            throw $this->createException( $message );","        }","    }"],"id":8},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":8,"column":86},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":10}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":68},"action":"insert","lines":["use JasonWKeith\\Persistance\\Infrastructure\\Persister\\PersisterTrait;"],"id":11}],[{"start":{"row":46,"column":92},"end":{"row":46,"column":94},"action":"remove","lines":["->"],"id":12},{"start":{"row":46,"column":92},"end":{"row":46,"column":93},"action":"insert","lines":["["]}],[{"start":{"row":46,"column":93},"end":{"row":46,"column":94},"action":"insert","lines":[" "],"id":13},{"start":{"row":46,"column":94},"end":{"row":46,"column":95},"action":"insert","lines":[";"]}],[{"start":{"row":46,"column":94},"end":{"row":46,"column":95},"action":"remove","lines":[";"],"id":14}],[{"start":{"row":46,"column":94},"end":{"row":46,"column":95},"action":"insert","lines":["'"],"id":15}],[{"start":{"row":46,"column":99},"end":{"row":46,"column":100},"action":"insert","lines":["'"],"id":16},{"start":{"row":46,"column":100},"end":{"row":46,"column":101},"action":"insert","lines":["]"]}],[{"start":{"row":46,"column":100},"end":{"row":46,"column":101},"action":"insert","lines":[" "],"id":17}],[{"start":{"row":46,"column":120},"end":{"row":46,"column":121},"action":"remove","lines":["-"],"id":18},{"start":{"row":46,"column":120},"end":{"row":46,"column":121},"action":"remove","lines":[">"]}],[{"start":{"row":46,"column":120},"end":{"row":46,"column":121},"action":"insert","lines":["["],"id":19}],[{"start":{"row":46,"column":121},"end":{"row":46,"column":122},"action":"insert","lines":[" "],"id":20},{"start":{"row":46,"column":122},"end":{"row":46,"column":123},"action":"insert","lines":["'"]}],[{"start":{"row":46,"column":133},"end":{"row":46,"column":134},"action":"insert","lines":["'"],"id":21},{"start":{"row":46,"column":134},"end":{"row":46,"column":135},"action":"insert","lines":["]"]}],[{"start":{"row":46,"column":154},"end":{"row":46,"column":155},"action":"remove","lines":[">"],"id":22},{"start":{"row":46,"column":153},"end":{"row":46,"column":154},"action":"remove","lines":["-"]}],[{"start":{"row":46,"column":153},"end":{"row":46,"column":154},"action":"insert","lines":["["],"id":23},{"start":{"row":46,"column":154},"end":{"row":46,"column":155},"action":"insert","lines":["'"]}],[{"start":{"row":46,"column":154},"end":{"row":46,"column":155},"action":"insert","lines":[" "],"id":24}],[{"start":{"row":46,"column":167},"end":{"row":46,"column":168},"action":"insert","lines":["'"],"id":25},{"start":{"row":46,"column":168},"end":{"row":46,"column":169},"action":"insert","lines":["]"]}],[{"start":{"row":46,"column":168},"end":{"row":46,"column":169},"action":"insert","lines":[" "],"id":26}],[{"start":{"row":46,"column":188},"end":{"row":46,"column":189},"action":"remove","lines":["-"],"id":27},{"start":{"row":46,"column":188},"end":{"row":46,"column":189},"action":"remove","lines":[">"]}],[{"start":{"row":46,"column":188},"end":{"row":46,"column":189},"action":"insert","lines":["["],"id":28},{"start":{"row":46,"column":189},"end":{"row":46,"column":190},"action":"insert","lines":["'"]}],[{"start":{"row":46,"column":189},"end":{"row":46,"column":190},"action":"insert","lines":[" "],"id":29}],[{"start":{"row":46,"column":200},"end":{"row":46,"column":201},"action":"insert","lines":["'"],"id":30},{"start":{"row":46,"column":201},"end":{"row":46,"column":202},"action":"insert","lines":["]"]}],[{"start":{"row":46,"column":201},"end":{"row":46,"column":202},"action":"insert","lines":[" "],"id":31}],[{"start":{"row":46,"column":221},"end":{"row":46,"column":231},"action":"remove","lines":["->nickname"],"id":32},{"start":{"row":46,"column":221},"end":{"row":46,"column":236},"action":"insert","lines":["[ 'last_name' ]"]}],[{"start":{"row":46,"column":224},"end":{"row":46,"column":229},"action":"remove","lines":["last_"],"id":33},{"start":{"row":46,"column":224},"end":{"row":46,"column":225},"action":"insert","lines":["n"]},{"start":{"row":46,"column":225},"end":{"row":46,"column":226},"action":"insert","lines":["i"]},{"start":{"row":46,"column":226},"end":{"row":46,"column":227},"action":"insert","lines":["c"]},{"start":{"row":46,"column":227},"end":{"row":46,"column":228},"action":"insert","lines":["k"]}],[{"start":{"row":46,"column":253},"end":{"row":46,"column":261},"action":"remove","lines":["->suffix"],"id":34},{"start":{"row":46,"column":253},"end":{"row":46,"column":268},"action":"insert","lines":["[ 'last_name' ]"]}],[{"start":{"row":46,"column":256},"end":{"row":46,"column":265},"action":"remove","lines":["last_name"],"id":35},{"start":{"row":46,"column":256},"end":{"row":46,"column":257},"action":"insert","lines":["s"]},{"start":{"row":46,"column":257},"end":{"row":46,"column":258},"action":"insert","lines":["u"]},{"start":{"row":46,"column":258},"end":{"row":46,"column":259},"action":"insert","lines":["f"]},{"start":{"row":46,"column":259},"end":{"row":46,"column":260},"action":"insert","lines":["f"]},{"start":{"row":46,"column":260},"end":{"row":46,"column":261},"action":"insert","lines":["i"]},{"start":{"row":46,"column":261},"end":{"row":46,"column":262},"action":"insert","lines":["x"]}],[{"start":{"row":46,"column":283},"end":{"row":46,"column":291},"action":"remove","lines":["->has_md"],"id":36},{"start":{"row":46,"column":283},"end":{"row":46,"column":298},"action":"insert","lines":["[ 'last_name' ]"]}],[{"start":{"row":46,"column":286},"end":{"row":46,"column":295},"action":"remove","lines":["last_name"],"id":37},{"start":{"row":46,"column":286},"end":{"row":46,"column":287},"action":"insert","lines":["h"]},{"start":{"row":46,"column":287},"end":{"row":46,"column":288},"action":"insert","lines":["a"]},{"start":{"row":46,"column":288},"end":{"row":46,"column":289},"action":"insert","lines":["s"]},{"start":{"row":46,"column":289},"end":{"row":46,"column":290},"action":"insert","lines":["_"]},{"start":{"row":46,"column":290},"end":{"row":46,"column":291},"action":"insert","lines":["m"]},{"start":{"row":46,"column":291},"end":{"row":46,"column":292},"action":"insert","lines":["d"]}],[{"start":{"row":46,"column":313},"end":{"row":46,"column":322},"action":"remove","lines":["->has_phd"],"id":38},{"start":{"row":46,"column":313},"end":{"row":46,"column":328},"action":"insert","lines":["[ 'last_name' ]"]}],[{"start":{"row":46,"column":316},"end":{"row":46,"column":325},"action":"remove","lines":["last_name"],"id":39},{"start":{"row":46,"column":316},"end":{"row":46,"column":317},"action":"insert","lines":["h"]},{"start":{"row":46,"column":317},"end":{"row":46,"column":318},"action":"insert","lines":["a"]},{"start":{"row":46,"column":318},"end":{"row":46,"column":319},"action":"insert","lines":["s"]},{"start":{"row":46,"column":319},"end":{"row":46,"column":320},"action":"insert","lines":["_"]},{"start":{"row":46,"column":320},"end":{"row":46,"column":321},"action":"insert","lines":["p"]},{"start":{"row":46,"column":321},"end":{"row":46,"column":322},"action":"insert","lines":["h"]},{"start":{"row":46,"column":322},"end":{"row":46,"column":323},"action":"insert","lines":["d"]}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":270},"action":"remove","lines":["$standard_object->guid, $standard_object->first_name, $standard_object->middle_name, $standard_object->last_name, $standard_object->nickname, $standard_object->suffix, $standard_object->has_md, $standard_object->has_phd"],"id":40},{"start":{"row":34,"column":51},"end":{"row":34,"column":302},"action":"insert","lines":["$standard_object[ 'guid' ], $standard_object[ 'first_name'], $standard_object[ 'middle_name' ], $standard_object[ 'last_name' ], $standard_object[ 'nickname' ], $standard_object[ 'suffix' ], $standard_object[ 'has_md' ], $standard_object[ 'has_phd' ] "]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":25},"action":"remove","lines":["    use FileHandlerTrait;"],"id":41},{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":6,"column":0},"end":{"row":6,"column":72},"action":"remove","lines":["use JasonWKeith\\Persistance\\Infrastructure\\FileHandler\\FileHandlerTrait;"],"id":42},{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":0},"end":{"row":6,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1619104451682,"hash":"2bc485598ba1004e811b2715591081cfa82fc18d"}