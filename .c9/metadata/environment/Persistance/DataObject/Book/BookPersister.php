{"filter":false,"title":"BookPersister.php","tooltip":"/Persistance/DataObject/Book/BookPersister.php","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":60,"column":0},"end":{"row":80,"column":13},"action":"remove","lines":["        ","            switch (json_last_error()) ","            {","                case JSON_ERROR_DEPTH:","                    echo ' - Maximum stack depth exceeded';","                break;","                case JSON_ERROR_STATE_MISMATCH:","                    echo ' - Underflow or the modes mismatch';","                break;","                case JSON_ERROR_CTRL_CHAR:","                    echo ' - Unexpected control character found';","                    $data = array();","                break;","                case JSON_ERROR_SYNTAX:","                    //throw $this->createException(\"bs\" );","                    echo ' - Syntax error, malformed JSON';","                break;","                case JSON_ERROR_UTF8:","                    echo ' - Malformed UTF-8 characters, possibly incorrectly encoded';","                break;","            }"],"id":2},{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":73,"column":0},"end":{"row":90,"column":5},"action":"remove","lines":["    ","    private function scrubJSONData( string $data ): string","    {","        // This will remove unwanted characters.","        for ($i = 0; $i <= 31; ++$i ) ","        { ","            $data = str_replace( chr( $i ), \"\", $data ); ","        }","        $data = str_replace( chr( 127 ), \"\", $data );","","        // Some file begins with 'efbbbf' to mark the beginning of the file. (binary level)","        // here we detect it and we remove it, basically it's the first 3 characters ","        if( 0 === strpos( bin2hex( $data ), 'efbbbf' ) ) ","        {","            $data = substr($data, 3);","        }","        return $data;","    }"],"id":3},{"start":{"row":73,"column":0},"end":{"row":74,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":0,"selection":{"start":{"row":73,"column":0},"end":{"row":73,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":41,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1618764919917,"hash":"70831fab62569ecb5276a90f2d69864792cf9039"}